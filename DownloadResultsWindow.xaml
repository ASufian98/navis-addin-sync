<Window x:Class="NavisWebAppSync.DownloadResultsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Download Results"
        Height="500" Width="800"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResize"
        MinWidth="600" MinHeight="400"
        Background="#F5F5F5">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <TextBlock Grid.Row="0"
                   x:Name="HeaderText"
                   Text="Downloading Files..."
                   FontSize="20"
                   FontWeight="Bold"
                   Foreground="#2196F3"
                   Margin="0,0,0,15"/>

        <!-- Progress -->
        <StackPanel Grid.Row="1" Margin="0,0,0,15">
            <TextBlock x:Name="ProgressText"
                       Text="Preparing download..."
                       FontSize="12"
                       Foreground="#666666"
                       Margin="0,0,0,5"/>
            <ProgressBar x:Name="ProgressBar"
                         Height="20"
                         Minimum="0"
                         Maximum="100"
                         Value="0"/>
        </StackPanel>

        <!-- Results List -->
        <Border Grid.Row="2"
                BorderBrush="#DDDDDD"
                BorderThickness="1"
                Background="White"
                CornerRadius="4">
            <ListView x:Name="ResultsList"
                      BorderThickness="0"
                      Margin="5">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <Grid Margin="5">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="35"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0"
                                       Text="{Binding StatusIcon}"
                                       Foreground="{Binding StatusColor}"
                                       FontSize="18"
                                       FontWeight="Bold"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Center"/>
                            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                <TextBlock Text="{Binding DisciplineType}"
                                           FontWeight="SemiBold"
                                           FontSize="13"/>
                                <TextBlock Text="{Binding StatusText}"
                                           FontSize="11"
                                           Foreground="#666666"
                                           TextTrimming="CharacterEllipsis"/>
                            </StackPanel>
                        </Grid>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
        </Border>

        <!-- Summary -->
        <TextBlock Grid.Row="3"
                   x:Name="SummaryText"
                   Text=""
                   FontSize="12"
                   Foreground="#666666"
                   Margin="0,10,0,10"
                   TextWrapping="Wrap"/>

        <!-- Buttons -->
        <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button x:Name="OpenFolderButton"
                    Content="Open Folder"
                    Width="100"
                    Height="35"
                    Margin="0,0,10,0"
                    IsEnabled="False"
                    Click="OpenFolderButton_Click"/>
            <Button x:Name="CloseButton"
                    Content="Close"
                    Width="100"
                    Height="35"
                    IsEnabled="False"
                    Click="CloseButton_Click"/>
        </StackPanel>
    </Grid>
</Window>
